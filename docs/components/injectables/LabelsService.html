<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Components</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Components</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>LabelsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>labels/labels.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#bulkAddLabel">bulkAddLabel</a>
                            </li>
                            <li>
                                <a href="#bulkRemoveLabel">bulkRemoveLabel</a>
                            </li>
                            <li>
                                <a href="#deleteLabel">deleteLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#labelsComponents">labelsComponents</a>
                            </li>
                            <li>
                                <a href="#renameLabel">renameLabel</a>
                            </li>
                            <li>
                                <a href="#selectLabel">selectLabel</a>
                            </li>
                            <li>
                                <a href="#toggle">toggle</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addLabels">addLabels</a>
                            </li>
                            <li>
                                <a href="#addPrivatePrefix">addPrivatePrefix</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#buildLabelsMenu">buildLabelsMenu</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#buildSelectionAction">buildSelectionAction</a>
                            </li>
                            <li>
                                <a href="#bulkAddLabels">bulkAddLabels</a>
                            </li>
                            <li>
                                <a href="#bulkRemoveLabels">bulkRemoveLabels</a>
                            </li>
                            <li>
                                <a href="#deleteLabels">deleteLabels</a>
                            </li>
                            <li>
                                <a href="#getCurrentRecordIds">getCurrentRecordIds</a>
                            </li>
                            <li>
                                <a href="#getRecordFromId">getRecordFromId</a>
                            </li>
                            <li>
                                <a href="#removeLabels">removeLabels</a>
                            </li>
                            <li>
                                <a href="#removePrivatePrefix">removePrivatePrefix</a>
                            </li>
                            <li>
                                <a href="#renameLabels">renameLabels</a>
                            </li>
                            <li>
                                <a href="#selectLabels">selectLabels</a>
                            </li>
                            <li>
                                <a href="#sort">sort</a>
                            </li>
                            <li>
                                <a href="#split">split</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#publicLabelsField">publicLabelsField</a>
                                </li>
                                <li>
                                    <a href="#privateLabelsField">privateLabelsField</a>
                                </li>
                                <li>
                                    <a href="#privateLabelsPrefix">privateLabelsPrefix</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(labelsWebService: <a href="../components/Labels.html">LabelsWebService</a>, appService: AppService, searchService: <a href="../injectables/SearchService.html">SearchService</a>, modalService: ModalService, principalWebService: PrincipalWebService, intlService: IntlService, selectionService: <a href="../injectables/SelectionService.html">SelectionService</a>, labelsComponents: <a href="../interfaces/LabelsComponents.html">LabelsComponents</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">labels/labels.service.ts:39</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>labelsWebService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../components/Labels.html" target="_self" >LabelsWebService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>appService</td>
                                                  
                                                        <td>
                                                                    <code>AppService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>searchService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SearchService.html" target="_self" >SearchService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>modalService</td>
                                                  
                                                        <td>
                                                                    <code>ModalService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>principalWebService</td>
                                                  
                                                        <td>
                                                                    <code>PrincipalWebService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>intlService</td>
                                                  
                                                        <td>
                                                                    <code>IntlService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>selectionService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SelectionService.html" target="_self" >SelectionService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>labelsComponents</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/LabelsComponents.html" target="_self" >LabelsComponents</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addLabels"></a>
                    <span class="name">
                        <b>
                            addLabels
                        </b>
                        <a href="#addLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addLabels(labels: string[], ids: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="331"
                            class="link-to-prism">labels/labels.service.ts:331</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ids</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addPrivatePrefix"></a>
                    <span class="name">
                        <b>
                            addPrivatePrefix
                        </b>
                        <a href="#addPrivatePrefix"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addPrivatePrefix(labels: string | string[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="534"
                            class="link-to-prism">labels/labels.service.ts:534</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string | string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>string | []</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="buildLabelsMenu"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            buildLabelsMenu
                        </b>
                        <a href="#buildLabelsMenu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>buildLabelsMenu(addLabels: (items: <a href="../classes/Action.html">Action[]</a>,_public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>) => void, icon: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, labelsText?, labelsTitle: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, publicLabelsText: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, privateLabelsText: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="140"
                            class="link-to-prism">labels/labels.service.ts:140</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>addLabels</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>icon</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&quot;fas fa-tags&quot;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>labelsText</td>
                                    <td>
                                    </td>

                                    <td>
                                        Yes
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>labelsTitle</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&quot;msg#labels.labels&quot;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>publicLabelsText</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&quot;msg#labels.publicLabels&quot;</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>privateLabelsText</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&quot;msg#labels.privateLabels&quot;</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/Action.html" target="_self" >Action | undefined</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="buildSelectionAction"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            buildSelectionAction
                        </b>
                        <a href="#buildSelectionAction"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>buildSelectionAction()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="198"
                            class="link-to-prism">labels/labels.service.ts:198</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/Action.html" target="_self" >Action | undefined</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bulkAddLabels"></a>
                    <span class="name">
                        <b>
                            bulkAddLabels
                        </b>
                        <a href="#bulkAddLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>bulkAddLabels(labels: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="461"
                            class="link-to-prism">labels/labels.service.ts:461</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bulkRemoveLabels"></a>
                    <span class="name">
                        <b>
                            bulkRemoveLabels
                        </b>
                        <a href="#bulkRemoveLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>bulkRemoveLabels(labels: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="473"
                            class="link-to-prism">labels/labels.service.ts:473</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteLabels"></a>
                    <span class="name">
                        <b>
                            deleteLabels
                        </b>
                        <a href="#deleteLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteLabels(labels: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="423"
                            class="link-to-prism">labels/labels.service.ts:423</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCurrentRecordIds"></a>
                    <span class="name">
                        <b>
                            getCurrentRecordIds
                        </b>
                        <a href="#getCurrentRecordIds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCurrentRecordIds()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="438"
                            class="link-to-prism">labels/labels.service.ts:438</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get the ids of the record currently in searchService.results</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>string[]</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRecordFromId"></a>
                    <span class="name">
                        <b>
                            getRecordFromId
                        </b>
                        <a href="#getRecordFromId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRecordFromId(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="449"
                            class="link-to-prism">labels/labels.service.ts:449</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Record | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeLabels"></a>
                    <span class="name">
                        <b>
                            removeLabels
                        </b>
                        <a href="#removeLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeLabels(labels: string[], ids: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="343"
                            class="link-to-prism">labels/labels.service.ts:343</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ids</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removePrivatePrefix"></a>
                    <span class="name">
                        <b>
                            removePrivatePrefix
                        </b>
                        <a href="#removePrivatePrefix"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removePrivatePrefix(labels: string | string[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="558"
                            class="link-to-prism">labels/labels.service.ts:558</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string | string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>string | []</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renameLabels"></a>
                    <span class="name">
                        <b>
                            renameLabels
                        </b>
                        <a href="#renameLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>renameLabels(labels: string[], newLabel: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="411"
                            class="link-to-prism">labels/labels.service.ts:411</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>newLabel</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectLabels"></a>
                    <span class="name">
                        <b>
                            selectLabels
                        </b>
                        <a href="#selectLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>selectLabels(labels: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="355"
                            class="link-to-prism">labels/labels.service.ts:355</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sort"></a>
                    <span class="name">
                        <b>
                            sort
                        </b>
                        <a href="#sort"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sort(labels: string[], _public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="501"
                            class="link-to-prism">labels/labels.service.ts:501</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                            <code>string[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>_public</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>string[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="split"></a>
                    <span class="name">
                        <b>
                            split
                        </b>
                        <a href="#split"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>split(labels: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="516"
                            class="link-to-prism">labels/labels.service.ts:516</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>labels</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>string[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="bulkAddLabel"></a>
                        <span class="name">
                            <b>
                            bulkAddLabel</b>
                            <a href="#bulkAddLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">labels/labels.service.ts:109</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="bulkRemoveLabel"></a>
                        <span class="name">
                            <b>
                            bulkRemoveLabel</b>
                            <a href="#bulkRemoveLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="123" class="link-to-prism">labels/labels.service.ts:123</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="deleteLabel"></a>
                        <span class="name">
                            <b>
                            deleteLabel</b>
                            <a href="#deleteLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="95" class="link-to-prism">labels/labels.service.ts:95</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="labelsComponents"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            labelsComponents</b>
                            <a href="#labelsComponents"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/LabelsComponents.html" target="_self" >LabelsComponents</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @Inject(LABELS_COMPONENTS)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">labels/labels.service.ts:49</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="renameLabel"></a>
                        <span class="name">
                            <b>
                            renameLabel</b>
                            <a href="#renameLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">labels/labels.service.ts:81</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectLabel"></a>
                        <span class="name">
                            <b>
                            selectLabel</b>
                            <a href="#selectLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">labels/labels.service.ts:73</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="toggle"></a>
                        <span class="name">
                            <b>
                            toggle</b>
                            <a href="#toggle"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="191" class="link-to-prism">labels/labels.service.ts:191</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="publicLabelsField"></a>
                        <span class="name"><b>publicLabelsField</b><a href="#publicLabelsField"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>publicLabelsField()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">labels/labels.service.ts:63</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="privateLabelsField"></a>
                        <span class="name"><b>privateLabelsField</b><a href="#privateLabelsField"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>privateLabelsField()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">labels/labels.service.ts:67</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="privateLabelsPrefix"></a>
                        <span class="name"><b>privateLabelsPrefix</b><a href="#privateLabelsPrefix"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>privateLabelsPrefix()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="486" class="link-to-prism">labels/labels.service.ts:486</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {Injectable, Inject, InjectionToken, Type} from &quot;@angular/core&quot;;
import {Observable, of} from &quot;rxjs&quot;;
import {LabelsWebService, AuditEventType, Record} from &quot;@sinequa/core/web-services&quot;;
import {AppService, ValueItem} from &quot;@sinequa/core/app-utils&quot;;
import {Utils, IRef} from &quot;@sinequa/core/base&quot;;
import {SearchService} from &quot;@sinequa/components/search&quot;;
import {ModalService, ModalResult} from &quot;@sinequa/core/modal&quot;;
import {Action} from &quot;@sinequa/components/action&quot;;
import {PrincipalWebService} from &quot;@sinequa/core/web-services&quot;;
import {IntlService} from &quot;@sinequa/core/intl&quot;;
import {SelectionService} from &#x27;@sinequa/components/selection&#x27;;

export interface IFormData {
    labelRef: IRef&lt;string&gt;;
    public: boolean;
    autofocus: number;
}

export interface LabelsComponents {
    renameModal: Type&lt;any&gt;;
    labelActionItem: Type&lt;any&gt;;
}

export const enum UpdateLabelsAction {
    add,
    remove,
    rename,
    delete,
    bulkAdd,
    bulkRemove
}

export const LABELS_COMPONENTS &#x3D; new InjectionToken&lt;LabelsComponents&gt;(&quot;LABELS_COMPONENTS&quot;);

@Injectable({
    providedIn: &#x27;root&#x27;,
})
export class LabelsService {
    private _privateLabelsPrefix: string | undefined;

    constructor(
        private labelsWebService: LabelsWebService,
        private appService: AppService,
        private searchService: SearchService,
        private modalService: ModalService,
        private principalWebService: PrincipalWebService,
        private intlService: IntlService,
        private selectionService: SelectionService,
        @Inject(LABELS_COMPONENTS) public labelsComponents: LabelsComponents,
        ){

        this.principalWebService.events.subscribe(
            (event) &#x3D;&gt; {
                switch (event.type) {
                    case &quot;changed&quot;:
                        this._privateLabelsPrefix &#x3D; undefined;
                        break;
                }
            });

    }

    public get publicLabelsField(): string | undefined {
        return this.appService.cclabels ? this.appService.cclabels.publicLabelsField : undefined;
    }

    public get privateLabelsField(): string | undefined {
        return this.appService.cclabels ? this.appService.cclabels.privateLabelsField : undefined;
    }

    // From navbar

    selectLabel &#x3D; (item: Action, $event: UIEvent) &#x3D;&gt; {
        const formData &#x3D; item.data as IFormData;
        const labels &#x3D; this.split(formData.labelRef.value);
        if (labels.length) {
            this.selectLabels(labels, formData.public);
        }
    }

    renameLabel &#x3D; (item: Action, $event: UIEvent) &#x3D;&gt; {
        const formData &#x3D; item.data as IFormData;
        const labels &#x3D; this.split(formData.labelRef.value);
        if (labels.length) {
            const data: IRef&lt;string&gt; &#x3D; { value: labels[0] };
            this.modalService.open(this.labelsComponents.renameModal, {model: data})
                .then((result) &#x3D;&gt; {
                    if (result &#x3D;&#x3D;&#x3D; ModalResult.OK) {
                        this.renameLabels(labels, data.value, formData.public);
                    }
                });
        }
    }

    deleteLabel &#x3D; (item: Action, $event: UIEvent) &#x3D;&gt; {
        const formData &#x3D; item.data as IFormData;
        const _labels &#x3D; formData.labelRef.value;
        const labels &#x3D; this.split(_labels);
        if (labels.length) {
            this.modalService.yesNo(&quot;msg#labels.deleteLabelAreYouSure&quot;, {values: {name: _labels}})
                .then((result) &#x3D;&gt; {
                    if (result &#x3D;&#x3D;&#x3D; ModalResult.Yes) {
                        this.deleteLabels(labels, formData.public);
                    }
                });
        }
    }

    bulkAddLabel &#x3D; (item: Action, $event: UIEvent) &#x3D;&gt; {
        const formData &#x3D; item.data as IFormData;
        const _labels &#x3D; formData.labelRef.value;
        const labels &#x3D; this.split(_labels);
        if (labels.length) {
            this.modalService.yesNo(&quot;msg#labels.bulkAddLabelAreYouSure&quot;, {values: {name: _labels}})
                .then((result) &#x3D;&gt; {
                    if (result &#x3D;&#x3D;&#x3D; ModalResult.Yes) {
                        this.bulkAddLabels(labels, formData.public);
                    }
                });
        }
    }

    bulkRemoveLabel &#x3D; (item: Action, $event: UIEvent) &#x3D;&gt; {
        const formData &#x3D; item.data as IFormData;
        const _labels &#x3D; formData.labelRef.value;
        const labels &#x3D; this.split(_labels);
        if (labels.length) {
            this.modalService.yesNo(&quot;msg#labels.bulkRemoveLabelAreYouSure&quot;, {values: {name: _labels}})
                .then((result) &#x3D;&gt; {
                    if (result &#x3D;&#x3D;&#x3D; ModalResult.Yes) {
                        this.bulkRemoveLabels(labels, formData.public);
                    }
                });
        }
    }
    // END From navbar

    // From result selector

    public buildLabelsMenu(
        addLabels: (items: Action[], _public: boolean) &#x3D;&gt; void,
        icon &#x3D; &quot;fas fa-tags&quot;, labelsText?, labelsTitle &#x3D; &quot;msg#labels.labels&quot;,
        publicLabelsText &#x3D; &quot;msg#labels.publicLabels&quot;, privateLabelsText &#x3D; &quot;msg#labels.privateLabels&quot;): Action | undefined {

        if (!this.publicLabelsField &amp;&amp; !this.privateLabelsField) {
            return undefined;
        }

        let children: Action[];
        const combined &#x3D; !!this.publicLabelsField &amp;&amp; !!this.privateLabelsField;

        if (combined) {
            children &#x3D; [
                new Action({
                    text: publicLabelsText,
                    children: this._buildLabelsMenu(true, addLabels),
                    toggle: this.toggle
                }),
                new Action({
                    text: privateLabelsText,
                    children: this._buildLabelsMenu(false, addLabels),
                    toggle: this.toggle
                })
            ];
        }
        else if (!!this.publicLabelsField) {
            children &#x3D; this._buildLabelsMenu(true, addLabels);
        }
        else if (!!this.privateLabelsField) {
            children &#x3D; this._buildLabelsMenu(false, addLabels);
        }
        else {
            console.log(&quot;no labels configured&quot;);
            return undefined;
        }

        const menu &#x3D; new Action({
            text: labelsText,
            title: labelsTitle,
            icon: icon,
            children: children
        });

        if (!combined) {
            menu.toggle &#x3D; this.toggle;
        }

        return menu;
    }

    toggle &#x3D; (item: Action, open: boolean) &#x3D;&gt; {
        if (open) {
            const formItem &#x3D; item.children[0];
            (&lt;IFormData&gt;formItem.data).autofocus++;
        }
    }

    public buildSelectionAction(): Action | undefined {
        const action &#x3D; this.buildLabelsMenu(
            (items: Action[], _public: boolean) &#x3D;&gt; {
                const formItem &#x3D; items[0];
                items.push(
                    new Action({
                        text: _public? &quot;msg#labels.addPublicLabelTitle&quot; : &quot;msg#labels.addPrivateLabelTitle&quot;,
                        action: (item, $event) &#x3D;&gt; {
                            if ((&lt;IFormData&gt;formItem.data).labelRef.value) {
                                const labels &#x3D; this.split((&lt;IFormData&gt;formItem.data).labelRef.value);
                                this.addLabels(labels, this.selectionService.getSelectedIds(), _public);
                            }
                        }
                    }));
                items.push(
                    new Action({
                        text: _public? &quot;msg#labels.removePublicLabelTitle&quot; : &quot;msg#labels.removePrivateLabelTitle&quot;,
                        action: (item, $event) &#x3D;&gt; {
                            if ((&lt;IFormData&gt;formItem.data).labelRef.value) {
                                const labels &#x3D; this.split((&lt;IFormData&gt;formItem.data).labelRef.value);
                                this.removeLabels(labels, this.selectionService.getSelectedIds(), _public);
                            }
                        }
                    }));
            });
        if(action){
            action.updater &#x3D; (action) &#x3D;&gt; {
                action.hidden &#x3D; !this.selectionService.haveSelectedRecords;
            };
            action.hidden &#x3D; true;
        }
        return action;
    }

    // menu support
    private _makeFormItem(_public: boolean): Action {
        const action &#x3D; new Action({
                component: this.labelsComponents.labelActionItem,
                data: &lt;IFormData&gt;{
                labelRef: {value: &quot;&quot;},
                public: _public,
                autofocus: 0,
            }
        });
        action.componentInputs &#x3D; {
            model: action
        };
        return action;
    }


    // Build a standard labels menu with label entry form at the top and additional items added by a passed callback
    private _buildLabelsMenu(_public: boolean, addItems: (items: Action[], _public: boolean) &#x3D;&gt; void): Action[] {
        const items: Action[] &#x3D; [
            this._makeFormItem(_public),
            new Action({
                separator: true
            })
        ];
        addItems(items, _public);
        return items;
    }


    // Labels
    /**
     * The following methods update the modify the labels for some documents via
     * the LabelsWebService, and they update the records in searchService.results
     * (for immediate display)
     **/

    private updateLabels(action: UpdateLabelsAction, labels: string[], ids: string[], newLabel: string, _public: boolean) {

        if (!_public) {
            labels &#x3D; &lt;string[]&gt;this.addPrivatePrefix(labels);
        }
        const field &#x3D; this.appService.cclabels &amp;&amp; this.appService.resolveColumnAlias(_public ?
            this.appService.cclabels.publicLabelsField : this.appService.cclabels.privateLabelsField);
        if (field &amp;&amp; this.searchService.results &amp;&amp; this.searchService.results.records) {
            for (let j &#x3D; 0, jc &#x3D; this.searchService.results.records.length; j &lt; jc; j++) {
                const record &#x3D; this.searchService.results.records[j];
                if (!ids || ids.indexOf(record.id) !&#x3D;&#x3D; -1) {
                    let currentLabels: string[] &#x3D; record[field];
                    if (action &#x3D;&#x3D;&#x3D; UpdateLabelsAction.add) {
                        if (!currentLabels) {
                            currentLabels &#x3D; [];
                        }
                    }
                    if (currentLabels) {
                        for (let k &#x3D; 0, kc &#x3D; labels.length; k &lt; kc; k++) {
                            const label &#x3D; labels[k];
                            let index;
                            switch (action) {
                                case UpdateLabelsAction.add:
                                case UpdateLabelsAction.bulkAdd:
                                    if (currentLabels.indexOf(label) &#x3D;&#x3D;&#x3D; -1) {
                                        currentLabels.push(label);
                                    }
                                    break;
                                case UpdateLabelsAction.remove:
                                case UpdateLabelsAction.bulkRemove:
                                    index &#x3D; currentLabels.indexOf(label);
                                    if (index !&#x3D;&#x3D; -1) {
                                        currentLabels.splice(index, 1);
                                    }
                                    break;
                                case UpdateLabelsAction.rename:
                                    index &#x3D; currentLabels.indexOf(label);
                                    if (index !&#x3D;&#x3D; -1) {
                                        if (currentLabels.indexOf(newLabel) &#x3D;&#x3D;&#x3D; -1) {
                                            currentLabels.splice(index, 1, newLabel);
                                        }
                                        else {
                                            currentLabels.splice(index, 1);
                                        }
                                    }
                                    break;
                                case UpdateLabelsAction.delete:
                                    index &#x3D; currentLabels.indexOf(label);
                                    if (index !&#x3D;&#x3D; -1) {
                                        currentLabels.splice(index, 1);
                                    }
                                    break;
                            }
                        }
                        record[field] &#x3D; currentLabels;
                    }
                }
            }
        }
        //TODO - facets
    }

    addLabels(labels: string[], ids: string[], _public: boolean): Observable&lt;void&gt; {
        if (!labels || labels.length &#x3D;&#x3D;&#x3D; 0 || !ids || ids.length &#x3D;&#x3D;&#x3D; 0) {
            return of();
        }
        const observable &#x3D; this.labelsWebService.add(labels, ids, _public);
        Utils.subscribe(observable,
            () &#x3D;&gt; {
                this.updateLabels(UpdateLabelsAction.add, labels, ids, &quot;&quot;, _public);
            });
        return observable;
    }

    removeLabels(labels: string[], ids: string[], _public: boolean): Observable&lt;void&gt; {
        if (!labels || labels.length &#x3D;&#x3D;&#x3D; 0 || !ids || ids.length &#x3D;&#x3D;&#x3D; 0) {
            return of();
        }
        const observable &#x3D; this.labelsWebService.remove(labels, ids, _public);
        Utils.subscribe(observable,
            () &#x3D;&gt; {
                this.updateLabels(UpdateLabelsAction.remove, labels, ids, &quot;&quot;, _public);
            });
        return observable;
    }

    selectLabels(labels: string[], _public: boolean): Promise&lt;boolean&gt; {
        const field &#x3D; this.appService.cclabels &amp;&amp; (_public ?
            this.appService.cclabels.publicLabelsField : this.appService.cclabels.privateLabelsField);
        if (!field) {
            return Promise.resolve(false);
        }
        const items: ValueItem[] &#x3D; [];
        const selectedLabels: string[] &#x3D; this.getSelectedLabels(field);
        for (let label of labels) {
            const display &#x3D; label;
            if (!_public) {
                label &#x3D; &lt;string&gt;this.addPrivatePrefix(label);
            }
            if (selectedLabels.indexOf(label) &#x3D;&#x3D;&#x3D; -1) {
                items.push({
                    value: label,
                    display: display
                });
            }
        }

        this.searchService.addFieldSelect(field, items);
        return this.searchService.search(undefined,
            {
                type: AuditEventType.Label_Open,
                detail: {
                    label: !!labels ? labels.toString() : null,
                    public: _public
                }
            });
    }


    /**
     * Retrieves the labels that are not in the current filters of breadcrumbs
     *
     * @param field The column index containing the labels.
     * @returns The selected labels
     */
    private getSelectedLabels(field: string): string[] {
        const labels: string[] &#x3D; [];
        if (field &amp;&amp; this.searchService.breadcrumbs?.activeSelects) {
            for (const select of this.searchService.breadcrumbs.activeSelects) {
                if (select.expr) {
                    const values &#x3D; select.expr.getValues(field);
                    values.forEach(value &#x3D;&gt; {
                        if(labels.indexOf(value) &#x3D;&#x3D;&#x3D; -1) {
                            labels.push(value);
                        }
                    });
                }
            }
        }
        return labels;
    }

    renameLabels(labels: string[], newLabel: string, _public: boolean): Observable&lt;void&gt; {
        if (!labels || labels.length &#x3D;&#x3D;&#x3D; 0) {
            return of();
        }
        const observable &#x3D; this.labelsWebService.rename(labels, newLabel, _public);
        Utils.subscribe(observable,
            () &#x3D;&gt; {
                this.updateLabels(UpdateLabelsAction.rename, labels, [], newLabel, _public);
            });
        return observable;
    }

    deleteLabels(labels: string[], _public: boolean): Observable&lt;void&gt; {
        if (!labels || labels.length &#x3D;&#x3D;&#x3D; 0) {
            return of();
        }
        const observable &#x3D; this.labelsWebService.delete(labels, _public);
        Utils.subscribe(observable,
            () &#x3D;&gt; {
                this.updateLabels(UpdateLabelsAction.delete, labels, [], &quot;&quot;, _public);
            });
        return observable;
    }

    /**
     * Get the ids of the record currently in searchService.results
     */
    getCurrentRecordIds(): string[]{
        const ids: string[] &#x3D; [];
        if (this.searchService.results &amp;&amp; this.searchService.results.records) {
            for (let i &#x3D; 0, ic &#x3D; this.searchService.results ? this.searchService.results.records.length : 0; i &lt; ic; i++) {
                const record &#x3D; this.searchService.results.records[i];
                ids.push(record.id);
            }
        }
        return ids;
    }

    getRecordFromId(id: string) : Record | undefined {
        let record: Record | undefined;
        if (this.searchService.results &amp;&amp; this.searchService.results.records) {
            let rec : Record;
            for( let i&#x3D;0, ic&#x3D;this.searchService.results.records.length; !record &amp;&amp; i&lt;ic; i++) {
                rec &#x3D; this.searchService.results.records[i];
                if (Utils.eq(rec.id, id)) record &#x3D; rec;
            }
        }
        return record;
    }

    bulkAddLabels(labels: string[], _public: boolean): Observable&lt;void&gt; {
        if (!labels || labels.length &#x3D;&#x3D;&#x3D; 0) {
            return of();
        }
        const observable &#x3D; this.labelsWebService.bulkAdd(labels, this.searchService.query, _public);
        Utils.subscribe(observable,
            () &#x3D;&gt; {
                this.updateLabels(UpdateLabelsAction.bulkAdd, labels, this.getCurrentRecordIds(), &quot;&quot;, _public);
            });
        return observable;
    }

    bulkRemoveLabels(labels: string[], _public: boolean): Observable&lt;void&gt; {
        if (!labels || labels.length &#x3D;&#x3D;&#x3D; 0) {
            return of();
        }
        const observable &#x3D; this.labelsWebService.bulkRemove(labels, this.searchService.query, _public);
        Utils.subscribe(observable,
            () &#x3D;&gt; {
                this.updateLabels(UpdateLabelsAction.bulkRemove, labels, this.getCurrentRecordIds(), &quot;&quot;, _public);
            });
        return observable;
    }


    get privateLabelsPrefix(): string {
        if (!this.principalWebService.principal) {
            return &quot;&quot;;
        }
        if (!this._privateLabelsPrefix &amp;&amp; this.appService.cclabels) {
            if (this.appService.isTree(this.appService.cclabels.privateLabelsField)) {
                this._privateLabelsPrefix &#x3D; Utils.addUrl(&quot;/&quot;, Utils.replace(this.principalWebService.principal.userId, &quot;|&quot;, &quot;/&quot;), &quot;/&quot;);
            }
            else {
                this._privateLabelsPrefix &#x3D; this.principalWebService.principal.userId + &quot;|&quot;;
            }
        }
        return this._privateLabelsPrefix || &quot;&quot;;
    }

    sort(labels: string[], _public: boolean): string[] {
        if (!labels) return labels;
        return labels.sort((a, b) &#x3D;&gt; {
            if (!a) return -1;
            if (!b) return 1;
            if (!_public) {
                a &#x3D; &lt;string&gt;this.removePrivatePrefix(a);
                b &#x3D; &lt;string&gt;this.removePrivatePrefix(b);
            }
            a &#x3D; this.intlService.formatMessage(a);
            b &#x3D; this.intlService.formatMessage(b);
            return a.localeCompare(b);
        });
    }

    split(labels: string): string[] {
        if (!labels) {
            return [];
        }
        return labels.trim().split(/\s*;\s*/).filter((value) &#x3D;&gt; {
            return value !&#x3D;&#x3D; &quot;&quot;;
        });
    }

    private _addPrivatePrefix(label: string): string {
        if (this.appService.cclabels &amp;&amp; this.appService.isTree(this.appService.cclabels.privateLabelsField)) {
            return Utils.addUrl(this.privateLabelsPrefix, label);
        }
        else {
            return this.privateLabelsPrefix + label;
        }
    }

    addPrivatePrefix(labels: string|string[]): string|string[] {
        if (typeof labels &#x3D;&#x3D;&#x3D; &quot;string&quot;) {
            return this._addPrivatePrefix(labels);
        }
        else {
            for (let i &#x3D; 0, ic &#x3D; labels.length; i &lt; ic; i++) {
                labels[i] &#x3D; this._addPrivatePrefix(labels[i]);
            }
            return labels;
        }
    }

    private _removePrivatePrefix(label: string): string {
        if (label.indexOf(this.privateLabelsPrefix) &#x3D;&#x3D;&#x3D; 0) {
            if (this.appService.cclabels &amp;&amp; this.appService.isTree(this.appService.cclabels.privateLabelsField)) {
                return label.slice(this.privateLabelsPrefix.length - 1);
            }
            else {
                return label.slice(this.privateLabelsPrefix.length);
            }
        }
        return label;
    }

    removePrivatePrefix(labels: string|string[]): string|string[] {
        if (typeof labels &#x3D;&#x3D;&#x3D; &quot;string&quot;) {
            return this._removePrivatePrefix(labels);
        }
        else {
            for (let i &#x3D; 0, ic &#x3D; labels.length; i &lt; ic; i++) {
                labels[i] &#x3D; this._removePrivatePrefix(labels[i]);
            }
            return labels;
        }
    }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'LabelsService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
